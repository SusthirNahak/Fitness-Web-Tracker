<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Fitness Web Tracker</title>
  <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
/>

  <style>
    :root {
      --header-height: 60px;
      --sidebar-width: 250px;
    }

    /* reset & box-sizing */
    *, *::before, *::after {
      margin: 0; padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: sans-serif;
      color: #333;
    }

    /* ===== HEADER ===== */
    header {
      position: sticky;
      top: 0; left: 0;
      width: 100%;
      height: var(--header-height);
      background: #000;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 1rem;
      z-index: 1000;
    }
    header img.logo {
      height: 40px;
    }
    header .btn-trial {
      background: #ff1e00;               /* or your brand gradient */
      color: #fff;
      padding: 0.5rem 1.5rem;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      font-size: 1rem;
    }

    /* ===== LAYOUT ===== */
    .layout {
      display: flex;
    }

    /* ===== SIDEBAR ===== */
    aside {
      position: sticky;
      top: var(--header-height);
      width: var(--sidebar-width);
      height: calc(100vh - var(--header-height));
      background: #343a40;
      padding: 1rem;
      overflow-y: auto;
    }
    aside h4 {
      color: #fff;
      margin-bottom: 1rem;
      text-align: center;
    }
    aside ul {
      list-style: none;
    }
    aside ul li + li {
      margin-top: 0.5rem;
    }
    aside ul a {
      display: block;
      color: #ddd;
      text-decoration: none;
      padding: 0.5rem;
      border-radius: 4px;
    }
    aside ul a.active,
    aside ul a:hover {
      background: #495057;
      color: #fff;
    }

    /* ===== CONTENT ===== */
    main {
      flex: 1;
      height: calc(100vh - var(--header-height));
      overflow-y: auto;
      padding: 1.5rem;
    }
    /* Sidebar header */
aside h4 {
  color: #fff;
  font-size: 1.2rem;
  margin-bottom: 1rem;
  text-align: center;
}

/* Sidebar list reset */
aside ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

/* Each item */
aside ul li + li {
  margin-top: 0.5rem;
}

/* Flex‐align link + icon */
aside ul a {
  display: flex;
  align-items: center;
  padding: 0.75rem 1rem;
  border-radius: 4px;
  color: #ddd;
  text-decoration: none;
  transition: background-color .2s, color .2s;
}

/* Give every icon a fixed width */
aside ul a i {
  width: 24px;
  min-width: 24px;
  text-align: center;
  font-size: 1.1rem;
}

/* Space between icon and text */
aside ul a span {
  margin-left: 0.75rem;
  line-height: 1.2;
}

/* Active & hover states */
aside ul a.active,
aside ul a:hover {
  background: #495057;
  color: #fff;
}
/* style the meal dropdown to match your inputs */
.input-area select {
  width: 100%;
  padding: 0.5rem;
  margin-bottom: 1rem;
  border: 1px solid #ccc;
  border-radius: 4px;
  background: #fff;
  font-size: 1rem;
}


/* Main content spacing */
main {
  padding: 2rem;
  overflow-y: auto;
}
main .module {
  margin-bottom: 2rem;
}
main h2 {
  margin-bottom: 1.5rem;
  font-size: 1.5rem;
  display: flex;
  align-items: center;
}
main h2 i {
  font-size: 1.25rem;
  margin-right: 0.5rem;
}
.module-body {
    display: flex;
    flex-wrap: wrap;
    gap: 2rem;
    margin-top: 1.5rem;
  }
  .module-body > .input-area,
  .module-body > .output-area {
    flex: 1;
    min-width: 280px;
    background: #fff;
    padding: 1.5rem;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
  }
  /* inputs/buttons */
  .input-area label {
    display: block;
    margin-bottom: 0.25rem;
    font-weight: 500;
  }
  .input-area input {
    width: 100%;
    padding: 0.5rem;
    margin-bottom: 1rem;
    border: 1px solid #ccc;
    border-radius: 4px;
  }
  .input-area button {
    display: block;
    width: 100%;
    background: #ff1e00;
    color: #fff;
    border: none;
    padding: 0.75rem;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1rem;
  }
  /* result & chart */
  .output-area h3 {
    margin-bottom: 1rem;
    font-size: 1.25rem;
  }
  .output-area canvas {
    width: 100% !important;
    height: 250px !important;
  }
  /* —— BMI Legend —— */
.bmi-legend {
  margin-top: 1rem;
  font-size: 0.9rem;
  color: #555;
}
.bmi-legend ul {
  list-style: none;
  padding: 0;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 0.5rem 1rem;
}
.bmi-legend li {
  background: #f8f9fa;
  border-radius: 4px;
  padding: 0.5rem;
  text-align: center;
}
.bmi-legend li span {
  display: block;
  font-weight: 500;
}
.bmi-legend li small {
  display: block;
  color: #777;
  margin-top: 0.25rem;
}
/* —— Sleep Legend —— */
.sleep-legend {
  margin-top: 1rem;
  font-size: 0.9rem;
  color: #555;
}
.sleep-legend ul {
  list-style: none;
  padding: 0;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 0.5rem 1rem;
}
.sleep-legend li {
  background: #f8f9fa;
  border-radius: 4px;
  padding: 0.5rem;
  text-align: center;
}
.sleep-legend li span {
  display: block;
  font-weight: 500;
}
.sleep-legend li small {
  display: block;
  color: #777;
  margin-top: 0.25rem;
}

/* —— Calorie Calculator Styles —— */
/* —— Calorie Estimates Grid —— */
.calorie-results {
  margin-top: 1rem;
}
.calorie-results .row {
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  border: 1px solid #ddd;
  margin-bottom: 0.5rem;
  border-radius: 4px;
  overflow: hidden;
}
.calorie-results .label {
  background: #f1f3f5;
  padding: 0.75rem 1rem;
  font-weight: 500;
}
.calorie-results .label small {
  display: block;
  margin-top: 0.25rem;
  color: #555;
  font-weight: 400;
  font-size: 0.85rem;
}
.calorie-results .value {
  background: #d4edda;
  padding: 0.75rem 1rem;
  color: #155724;
  font-size: 1.25rem;
  font-weight: 600;
  text-align: right;
}

.input-area select {
  width: 100%;
  padding: 0.5rem;
  margin-bottom: 1rem;
  border: 1px solid #ccc;
  border-radius: 4px;
  background: #fff;
  font-size: 1rem;
}

/* Results table */
.output-area table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 1rem;
}
.output-area th,
.output-area td {
  border: 1px solid #e0e0e0;
  padding: 0.75rem;
  text-align: center;
}
.output-area th {
  background: #f1f3f5;
  font-weight: 500;
}
/* Activity dropdown + inputs */
.input-area select {
  width: 100%;
  padding: 0.5rem;
  margin-bottom: 1rem;
  border: 1px solid #ccc;
  border-radius: 4px;
  background: #fff;
  font-size: 1rem;
}

/* Activity results styling */
.activity-results .res-row {
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  border: 1px solid #e0e0e0;
  margin-bottom: 0.5rem;
  border-radius: 4px;
  overflow: hidden;
}
.activity-results .res-label {
  background: #f8f9fa;
  padding: 0.75rem 1rem;
  font-weight: 500;
}
.activity-results .res-value {
  background: #d4edda;
  padding: 0.75rem 1rem;
  color: #155724;
  font-size: 1.25rem;
  font-weight: 600;
  text-align: right;
}

  </style>
</head>
<body>

  <!-- HEADER -->
  <header>
    <!-- logo left -->
    <a href="index.html">
      <img class="logo" src="assets/img/them-logo.png" alt="Promix Logo">
    </a>

    <!-- trial button right -->
         
      <a href="./index.html" class="btn-trial"><span>Back to Home</span></a>
   
  </header>

 <!-- SIDEBAR + CONTENT -->
<div class="layout">

  <!-- MENU SIDEBAR -->
  <aside>
    <h4>Menu</h4>
    <ul id="moduleList">
      <li>
        <a href="#" class="active" data-module="bmi">
          <i class="fa-solid fa-heart-pulse"></i>
          <span>BMI &amp; Body-Fat Estimator</span>
        </a>
      </li>
      <li>
        <a href="#" data-module="sleep">
          <i class="fa-solid fa-bed"></i>
          <span>Sleep Tracker</span>
        </a>
      </li>
      <li>
        <a href="#" data-module="meal">
          <i class="fa-solid fa-utensils"></i>
          <span>Meal &amp; Nutrition Logger</span>
        </a>
      </li>
      <li>
        <a href="#" data-module="calorie">
          <i class="fa-solid fa-chart-pie"></i>
          <span>Calorie & Protein Calculator</span>
        </a>
      </li>
      <li>
        <a href="#" data-module="activity">
          <i class="fa-solid fa-dumbbell"></i>
          <span>Activity &amp; Workout Log</span>
        </a>
      </li>
      
    </ul>
  </aside>

  <!-- MAIN CONTENT AREA -->
  <main id="content">
    <div id="bmi" class="module">
      <h2><i class="fa-solid fa-heart-pulse me-2"></i>BMI &amp; Body-Fat Estimator</h2>
  
      <div class="module-body">
        <!-- Left: Inputs -->
        <div class="input-area">
          <label for="heightInput">Height (cm)</label>
          <input type="number" id="heightInput" placeholder="e.g. 170" />
  
          <label for="weightInput">Weight (kg)</label>
          <input type="number" id="weightInput" placeholder="e.g. 65" />
  
          <button id="bmiCalcBtn">Calculate BMI</button>
        </div>
  
        <!-- Right: Result + Chart -->
        <div class="output-area">
          <h3>Your BMI: <span id="bmiOutput">—</span></h3>
          <canvas id="bmiChart"></canvas>
          <!-- Legend showing percentile bands -->
          <div class="bmi-legend">
            <ul>
              <li><span>Underweight</span><small>&lt;5%</small></li>
              <li><span>Healthy weight</span><small>5% – 85%</small></li>
              <li><span>At risk of overweight</span><small>85% – 95%</small></li>
              <li><span>Overweight</span><small>&gt;95%</small></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- 2. Sleep Tracker -->
    <div id="sleep" class="module" style="display:none;">
      <h2><i class="fa-solid fa-bed me-2"></i>Sleep Tracker</h2>
  
      <div class="module-body">
        <!-- Left: Inputs -->
        <div class="input-area">
          <label for="sleepStartInput">Sleep Start</label>
          <input type="time" id="sleepStartInput" />
  
          <label for="sleepEndInput">Wake Up</label>
          <input type="time" id="sleepEndInput" />
  
          <button id="sleepCalcBtn">Calculate Sleep</button>
        </div>
  
        <!-- Right: Result + Chart -->
        <div class="output-area">
          <h3>Hours Slept: <span id="sleepOutput">—</span></h3>
          <canvas id="sleepChart"></canvas>
          <!-- Legend showing sleep‐quality bands -->
          <div class="sleep-legend">
            <ul>
              <li><span>Very Poor</span><small>&lt;5 h</small></li>
              <li><span>Poor</span><small>5–6 h</small></li>
              <li><span>Good</span><small>6–8 h</small></li>
              <li><span>Excellent</span><small>&gt;8 h</small></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

<!-- 3. Meal & Nutrition Logger -->
<div id="meal" class="module" style="display:none;">
  <h2><i class="fa-solid fa-utensils me-2"></i>Meal &amp; Nutrition Logger</h2>
  <div class="module-body">
    <!-- Left: Meal selector -->
    <div class="input-area">
      <label for="mealNameSelect">Select Meal</label>
      <select id="mealNameSelect">
        <option value="">— choose a meal —</option>
        <option>Oatmeal</option>
        <option>Scrambled Eggs</option>
        <option>Grilled Chicken Breast</option>
        <option>Brown Rice</option>
        <option>Apple</option>
        <option>Banana</option>
        <option>Greek Yogurt</option>
        <option>Almonds</option>
        <option>Peanut Butter Sandwich</option>
        <option>Salad (Mixed Greens)</option>
        <option>Protein Shake</option>
        <option>Salmon Fillet</option>
        <option>Sweet Potato</option>
        <option>Broccoli</option>
        <option>Avocado Toast</option>
        <option>Turkey Sandwich</option>
        <option>Cottage Cheese</option>
        <option>Quinoa</option>
        <option>Spinach Smoothie</option>
        <option>Beef Steak</option>
      </select>
      <button id="mealShowBtn">Show Nutrition</button>
    </div>

    <!-- Right: Chart -->
    <div class="output-area">
      <h3 id="mealTitle">Select a meal above</h3>
      <canvas id="mealChart"></canvas>
    </div>
  </div>
</div>


<!-- 4. Calorie Needs Calculator -->
<div id="calorie" class="module" style="display:none;">
  <h2><i class="fa-solid fa-chart-pie me-2"></i>Calorie & Protein Calculator</h2>
  <div class="module-body">

    <!-- Left: Inputs -->
    <div class="input-area">
      <label for="ageInput">Age (years)</label>
      <input type="number" id="ageInput" placeholder="e.g. 30" min="10" max="120"/>

      <label for="genderInput">Gender</label>
      <select id="genderInput">
        <option value="">— select gender —</option>
        <option value="male">Male</option>
        <option value="female">Female</option>
      </select>

      <label for="heightInput2">Height (cm)</label>
      <input type="number" id="heightInput2" placeholder="e.g. 170" min="50" max="250"/>

      <label for="weightInput2">Weight (kg)</label>
      <input type="number" id="weightInput2" placeholder="e.g. 65" min="20" max="300"/>

      <label for="activityInput">Activity Level</label>
      <select id="activityInput">
        <option value="">— choose one —</option>
        <option value="1.2">Sedentary (little or no exercise)</option>
        <option value="1.375">Lightly active (1–3 days/week)</option>
        <option value="1.55">Moderately active (3–5 days/week)</option>
        <option value="1.725">Very active (6–7 days/week)</option>
        <option value="1.9">Extra active (hard exercise & physical job)</option>
      </select>

      <button id="calcCalorieBtn">Calculate</button>
    </div>

    <!-- Right: Four Estimates -->
    <div class="output-area">
      <h3 id="calorieResult">Fill out the form and click Calculate</h3>
      <div class="calorie-results">
        <div class="row">
          <div class="label">Maintain weight</div>
          <div class="value" id="maintainCell">—</div>
        </div>
        <div class="row">
          <div class="label">
            Mild weight loss<br>
            <small>0.25 kg/week</small>
          </div>
          <div class="value" id="mildCell">—</div>
        </div>
        <div class="row">
          <div class="label">
            Weight loss<br>
            <small>0.5 kg/week</small>
          </div>
          <div class="value" id="lossCell">—</div>
        </div>
        <div class="row">
          <div class="label">
            Extreme weight loss<br>
            <small>1 kg/week</small>
          </div>
          <div class="value" id="extremeCell">—</div>
        </div>
          <!-- 5th row: Protein Need -->
        <div class="row">
          <div class="label">
            Protein need<br>
            <small>g/day</small>
          </div>
          <div class="value" id="proteinNeedCell">—</div>
        </div>

      </div>
    </div>

  </div>
</div>


<!-- 5. Activity & Workout Calculator -->
<div id="activity" class="module" style="display:none;">
  <h2><i class="fa-solid fa-dumbbell me-2"></i>Activity &amp; Workout Calculator</h2>
  <div class="module-body">

    <!-- Left: Inputs -->
    <div class="input-area">
      <label for="activitySelect">Activity</label>
      <select id="activitySelect">
        <option value="">— choose an activity —</option>
        <option>Running</option>
        <option>Walking</option>
        <option>Cycling</option>
        <option>Swimming</option>
        <option>Yoga</option>
        <option>Strength Training</option>
        <option>HIIT</option>
        <option>Jump Rope</option>
        <option>Dancing</option>
        <option>Treadmill</option>
        <option>Elliptical</option>
        <option>Rowing</option>
        <option>Hiking</option>
        <option>Pilates</option>
        <option>Zumba</option>
        <option>Aerobics</option>
        <option>Football</option>
        <option>Basketball</option>
        <option>Tennis</option>
        <option>Soccer</option>
      </select>

      <label for="durationInput">Duration (minutes)</label>
      <input type="number" id="durationInput" placeholder="e.g. 30" min="1" />

      <label for="weightActivityInput">Your Weight (kg)</label>
      <input type="number" id="weightActivityInput" placeholder="e.g. 70" min="20" />

      <button id="activityCalcBtn">Calculate</button>
    </div>

    <!-- Right: Results -->
    <div class="output-area">
      <h3 id="activityTitle">Your Activity Summary</h3>
      <div class="activity-results">
        <div class="res-row">
          <div class="res-label">Calories Burned</div>
          <div class="res-value" id="caloriesBurned">—</div>
        </div>
        <div class="res-row">
          <div class="res-label">Protein for Recovery</div>
          <div class="res-value" id="proteinRecovery">—</div>
        </div>
      </div>
    </div>

  </div>
</div>



  </main>

</div>

<!-- 1) Load Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.1/dist/chart.umd.min.js"></script>

<!-- 2) Module-switching & Charts setup -->
<script>
document.addEventListener('DOMContentLoaded', function() {

  // --- MODULE SWITCHING ---
  document.querySelectorAll('#moduleList a').forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();
      document.querySelectorAll('#moduleList a').forEach(a => a.classList.remove('active'));
      link.classList.add('active');
      document.querySelectorAll('.module').forEach(m => m.style.display = 'none');
      document.getElementById(link.dataset.module).style.display = 'block';
    });
  });

  // --- GLOBAL DATA STORES & UTILS ---
  const meals = [];
  const activities = [];

  function formatDate(date = new Date()) {
    return date.toISOString().slice(0, 10);  // YYYY-MM-DD
  }
  function sum(arr) {
    return arr.reduce((a, b) => a + b, 0);
  }

  // --- 1) BMI CHART ---
  const bmiCtx = document.getElementById('bmiChart').getContext('2d');
  const bmiGradient = bmiCtx.createLinearGradient(0, 0, 0, 250);
  bmiGradient.addColorStop(0, '#ff1e00');
  bmiGradient.addColorStop(1, '#ff7426');
  const bmiChart = new Chart(bmiCtx, {
    type: 'doughnut',
    data: {
      labels: ['BMI', 'Remaining'],
      datasets: [{
        data: [0, 50],
        backgroundColor: [bmiGradient, '#e9ecef']
      }]
    },
    options: {
      cutout: '70%',
      rotation: Math.PI,
      circumference: Math.PI,
      plugins:{ legend:{ display:false } }
    }
  });
  document.getElementById('bmiCalcBtn').addEventListener('click', () => {
  const h = parseFloat(document.getElementById('heightInput').value) / 100;
  const w = parseFloat(document.getElementById('weightInput').value);
  if (!h || !w) return;

  const bmi = +(w / (h * h)).toFixed(2);

  // pick the status band
  let status;
  if (bmi < 18.5) {
    status = 'Underweight (<5%)';
  } else if (bmi < 25) {
    status = 'Healthy weight (5% – 85%)';
  } else if (bmi < 30) {
    status = 'At risk of overweight (85% – 95%)';
  } else {
    status = 'Overweight (>95%)';
  }

  // update the text + chart
  document.getElementById('bmiOutput').textContent = `${bmi} (${status})`;
  bmiChart.data.datasets[0].data = [bmi, Math.max(0, 50 - bmi)];
  bmiChart.update();
});


  // --- 2) SLEEP CHART ---
  const sleepCtx = document.getElementById('sleepChart').getContext('2d');
  const sleepChart = new Chart(sleepCtx, {
    type: 'bar',
    data: {
      labels: ['Hours Slept'],
      datasets: [{ data: [0], backgroundColor: '#4BC0C0' }]
    },
    options: {
      scales: { y: { beginAtZero: true, suggestedMax: 12 } },
      plugins:{ legend:{ display:false } }
    }
  });
  document.getElementById('sleepCalcBtn').addEventListener('click', () => {
  const start = document.getElementById('sleepStartInput').value;
  const end   = document.getElementById('sleepEndInput').value;
  if (!start || !end) return;

  // compute duration
  const [sh, sm] = start.split(':').map(Number);
  const [eh, em] = end.split(':').map(Number);
  let ds = new Date(), de = new Date();
  ds.setHours(sh, sm);
  de.setHours(eh, em);
  if (de <= ds) de.setDate(de.getDate() + 1);
  const hours = +(((de - ds) / 3600000).toFixed(2));

  // pick sleep‐quality status
  let status;
  if (hours < 5) {
    status = 'Very Poor (<5 h)';
  } else if (hours < 6) {
    status = 'Poor (5–6 h)';
  } else if (hours < 8) {
    status = 'Good (6–8 h)';
  } else {
    status = 'Excellent (>8 h)';
  }

  // update text & chart
  document.getElementById('sleepOutput').textContent = `${hours} h (${status})`;
  sleepChart.data.datasets[0].data = [hours];
  sleepChart.update();
});


    // --- 3) PREDEFINED MEALS + CHART SETUP ---
    const predefinedMeals = {
    "Oatmeal":                { protein: 6,  carbs: 27, fat: 3   },
    "Scrambled Eggs":         { protein: 12, carbs: 2,  fat: 10  },
    "Grilled Chicken Breast": { protein: 31, carbs: 0,  fat: 3.6 },
    "Brown Rice":             { protein: 5,  carbs: 45, fat: 1.8 },
    "Apple":                  { protein: 0.5,carbs: 25, fat: 0.3 },
    "Banana":                 { protein: 1.3,carbs: 27, fat: 0.4 },
    "Greek Yogurt":           { protein: 17, carbs: 6,  fat: 0   },
    "Almonds":                { protein: 6,  carbs: 6,  fat: 14  },
    "Peanut Butter Sandwich": { protein: 12, carbs: 28, fat: 16  },
    "Salad (Mixed Greens)":   { protein: 2,  carbs: 4,  fat: 0.2 },
    "Protein Shake":          { protein: 24, carbs: 3,  fat: 2   },
    "Salmon Fillet":          { protein: 20, carbs: 0,  fat: 13  },
    "Sweet Potato":           { protein: 2,  carbs: 26, fat: 0.1 },
    "Broccoli":               { protein: 2.5,carbs: 6,  fat: 0.3 },
    "Avocado Toast":          { protein: 4,  carbs: 20, fat: 11  },
    "Turkey Sandwich":        { protein: 18, carbs: 28, fat: 5   },
    "Cottage Cheese":         { protein: 14, carbs: 5,  fat: 4   },
    "Quinoa":                 { protein: 8,  carbs: 39, fat: 3.6 },
    "Spinach Smoothie":       { protein: 3,  carbs: 10, fat: 1   },
    "Beef Steak":             { protein: 25, carbs: 0,  fat: 20  }
  };

  // chart
  const mealCtx = document.getElementById('mealChart').getContext('2d');
  const mealChart = new Chart(mealCtx, {
    type: 'bar',
    data: {
      labels: ['Protein (g)','Carbs (g)','Fat (g)'],
      datasets: [{
        label: 'Grams',
        data: [0, 0, 0],
        backgroundColor: ['#36A2EB','#FFCE56','#FF6384']
      }]
    },
    options: {
      scales: { 
        y: { beginAtZero: true }
      },
      plugins: { 
        legend: { display: false } 
      }
    }
  });

  // handler
  document.getElementById('mealShowBtn').addEventListener('click', () => {
    const meal = document.getElementById('mealNameSelect').value;
    if (!meal) return; 

    const { protein, carbs, fat } = predefinedMeals[meal];
    document.getElementById('mealTitle').textContent = `${meal} Nutrition`;

    mealChart.data.datasets[0].data = [protein, carbs, fat];
    mealChart.update();
  });


  document.getElementById('calcCalorieBtn').addEventListener('click', () => {
  const age      = parseFloat(document.getElementById('ageInput').value);
  const gender   = document.getElementById('genderInput').value;
  const height   = parseFloat(document.getElementById('heightInput2').value);
  const weight   = parseFloat(document.getElementById('weightInput2').value);
  const activity = parseFloat(document.getElementById('activityInput').value);

  if (!age || !gender || !height || !weight || !activity) {
    return alert('Please complete all fields.');
  }

  // BMR (Mifflin–St Jeor)
  const s   = gender === 'male' ? 5 : -161;
  const bmr = 10 * weight + 6.25 * height - 5 * age + s;
  const tdee = bmr * activity;

  // Four estimates
  const maintain = Math.round(tdee);
  const mild     = Math.round(tdee * 0.90);  // 90% → ~0.25 kg/week
  const loss     = Math.round(tdee * 0.79);  // 79% → ~0.5 kg/week
  const extreme  = Math.round(tdee * 0.59);  // 59% → ~1 kg/week

  // NEW: protein at 1.6 g per kg body-weight
const proteinNeed = Math.round(weight * 1.6);

// render all five values
document.getElementById('maintainCell').textContent   = maintain;
document.getElementById('mildCell').textContent       = mild;
document.getElementById('lossCell').textContent       = loss;
document.getElementById('extremeCell').textContent    = extreme;
document.getElementById('proteinNeedCell').textContent= proteinNeed;

  // Render
  document.getElementById('calorieResult').textContent = `Your Calorie Estimates`;
  document.getElementById('maintainCell').textContent  = maintain;
  document.getElementById('mildCell').textContent      = mild;
  document.getElementById('lossCell').textContent      = loss;
  document.getElementById('extremeCell').textContent   = extreme;
});


  // —— 5) ACTIVITY & WORKOUT CALCULATOR ——
const activityMETs = {
  'Running': 9.8,
  'Walking': 3.5,
  'Cycling': 7.5,
  'Swimming': 8.0,
  'Yoga': 3.0,
  'Strength Training': 6.0,
  'HIIT': 9.0,
  'Jump Rope': 12.0,
  'Dancing': 5.5,
  'Treadmill': 6.0,
  'Elliptical': 5.5,
  'Rowing': 7.0,
  'Hiking': 6.0,
  'Pilates': 3.0,
  'Zumba': 6.0,
  'Aerobics': 6.0,
  'Football': 7.0,
  'Basketball': 8.0,
  'Tennis': 7.0,
  'Soccer': 7.0
};

document.getElementById('activityCalcBtn').addEventListener('click', () => {
  const activity = document.getElementById('activitySelect').value;
  const duration = parseFloat(document.getElementById('durationInput').value);
  const weight   = parseFloat(document.getElementById('weightActivityInput').value);
  if (!activity || !duration || !weight) return;

  // calories burned formula: MET × 3.5 × weight (kg) ÷ 200 × duration (min)
  const met  = activityMETs[activity];
  const cals = Math.round(met * 3.5 * weight / 200 * duration);

  // protein for recovery: 0.3 g per kg body weight
  const protein = Math.round(weight * 0.3);

  // render results
  document.getElementById('activityTitle').textContent    = `${activity} — ${duration} min`;
  document.getElementById('caloriesBurned').textContent   = `${cals} kcal`;
  document.getElementById('proteinRecovery').textContent  = `${protein} g`;
});
});
</script>


  
  <!-- after you load Chart.js and your module HTML… -->

</body>
</html>
